<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic|Raleway' rel='stylesheet' type='text/css'>
    <title>Using Project-Specific Gems Without Bundle Exec - Lee Dohm's Blog</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="alternate" type="application/atom+xml" href="/feed.xml"/>
    <link rel="icon" type="image/png" href="/favicon-icon.png"/>

    <!-- Bootstrap -->
    <link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen" />

    <!-- Site -->
    <link href="/stylesheets/styles.css" rel="stylesheet" />

    <!-- Font Awesome -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

    <!-- MathJax -->
    <script type="text/javascript"
      src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-17382346-2', 'lee-dohm.com');
  ga('send', 'pageview');

</script>
    <meta property="og:title" content="Using Project-Specific Gems Without Bundle Exec"/>
<meta property="og:type" content="article"/>
<meta property="og:url" content="http://www.lee-dohm.com/2015/01/29/using-project-specific-gems-without-bundle-exec/"/>
<meta property="og:image" content="http://www.lee-dohm.com/favicon-icon.png"/>
<meta property="og:description" content=""/>


    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="../../assets/js/html5shiv.js"></script>
      <script src="../../assets/js/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <nav class="navbar navbar-custom" role="navigation">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/">Lee Dohm</a>
        <p class="navbar-text">Games and Technology Should Include EVERYone</p>
      </div>

      <div class="collapse navbar-collapse navbar-ex1-collapse">
        <ul class="nav navbar-nav navbar-right">
          <li><a href="/archives">Archive</a></li>
          <li><a href="/feed.xml">Feed</a></li>
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="/about">About Lee</a></li>
              <li><a href="/this-blog">About This Blog</a></li>
              <li><a href="/appearances">Appearances</a></li>
              <li><a href="/colophon">Colophon</a></li>
              <li><a href="/disclaimer">Disclaimers</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </nav>

    <div class="container">
      <div class="row">
        <div class="row">
          <div class="col-md-8 col-md-offset-2">
            <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body>
<div class="content">
  <h1><a class="title" href="/2015/01/29/using-project-specific-gems-without-bundle-exec/"><p>Using Project-Specific Gems Without Bundle Exec</p>
</a></h1>
  <h4 class="dateline">
    January 29, 2015
    •
    <a href="/2015/01/29/using-project-specific-gems-without-bundle-exec/"><span class="octicon octicon-link"></span></a>
  </h4>

  <p>If you use Ruby a lot like I do, you’ve probably gone through at least a few steps of this cycle:</p>

<ol>
<li>Ruby is awesome! <img alt="metal" src="/images/emoji/metal.png" class="emoji" /></li>
<li>Now, I just need to figure out how to make it do more <img alt="cry" src="/images/emoji/cry.png" class="emoji" /></li>
<li>RubyGems are awesome! <img alt="metal" src="/images/emoji/metal.png" class="emoji" /> They help me make Ruby do more!</li>
<li>But managing them is a pain <img alt="cry" src="/images/emoji/cry.png" class="emoji" /></li>
<li>
<a href="http://bundler.io/">Bundler</a> is awesome! <img alt="metal" src="/images/emoji/metal.png" class="emoji" /> It manages the Gems and their dependencies!</li>
<li>But I just need to figure out how to always use the right version when I’m working on a specific project that uses different versions than everything else <img alt="cry" src="/images/emoji/cry.png" class="emoji" /></li>
<li>
<code>bundle exec</code> is awesome! <img alt="metal" src="/images/emoji/metal.png" class="emoji" /> It loads the right versions of everything for the current project!</li>
<li>But it is a lot of typing for every command <img alt="cry" src="/images/emoji/cry.png" class="emoji" /></li>
<li>Aliases are awesome! <img alt="metal" src="/images/emoji/metal.png" class="emoji" /> Now I only have to type <code>be rake</code> instead of <code>bundle exec rake</code>!</li>
<li>
<a href="http://bundler.io/v1.7/bundle_binstubs.html">Bundler binstubs</a> are awesome! <img alt="metal" src="/images/emoji/metal.png" class="emoji" /> Now I only have to type <code>bin/rake</code> instead of <code>be rake</code> … <img alt="confused" src="/images/emoji/confused.png" class="emoji" /></li>
<li>Huh … that isn’t any better, as a matter of fact, that’s more typing. <em>And</em> I have to remember to do the extra step of generating the binstubs for every project. Why bother in that case?</li>
</ol>

<p>And that’s where things stopped for me for a long time … Until now! <img alt="metal" src="/images/emoji/metal.png" class="emoji" /> Ok, maybe I’m getting ahead of myself. Here’s what I figured out recently …</p>

<p>I’ve been slowly refining my <a href="https://github.com/lee-dohm/dotfiles">dotfiles project</a> using <a href="https://github.com/thoughtbot/dotfiles">Thoughtbot’s dotfiles</a> as a basis. There is a lot to grok in that collection of useful tools and settings and I’ve been taking my time figuring it out. One thing that I noticed, but didn’t think much of was this little bit of code in the shell profile:</p>
<div class="highlight"><pre><a name="line-1"></a><span class="c"># mkdir .git/safe in the root of repositories you trust</span>
<a name="line-2"></a><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">".git/safe/../../bin:$PATH"</span>
</pre></div>
<p>At least, until recently when I put two and two together. I remembered that I could use Bundler’s binstubs, which, combined with this trick would allow me to type simply <code>rake</code> instead of <code>bin/rake</code> or even <code>be rake</code>. Assuming you already have a project that uses Ruby, RubyGems and Bundler, here’s how:</p>

<ol>
<li>Add the above <code>PATH</code> modification to your shell profile. Ensure that you execute it <em>after</em> utilities like <a href="https://github.com/sstephenson/rbenv">rbenv</a> or <a href="http://rvm.io">rvm</a>.</li>
<li>From within your project directory:

<ol>
<li>Execute <code>bundle binstub GEM</code>. For example: <code>bundle binstub rake</code>
</li>
<li>Execute <code>mkdir .git/safe</code>
</li>
</ol>
</li>
</ol>

<p>Now, if you execute <code>which rake</code> you should see that it points to the newly-generated binstub instead of the globally-installed one. Party on dudes! <img alt="metal" src="/images/emoji/metal.png" class="emoji" /></p>

</div>
</body></html>

          </div>
        </div>

        <div class="col-md-8 col-md-offset-2">
          <hr/>
          <div class="text-center">
            <p>
              <a href="mailto:lee@lee-dohm.com"><span class="octicon octicon-mail"></span></a>&nbsp;&nbsp;
              <a href="https://github.com/lee-dohm"><span class="octicon octicon-mark-github"></span></a>&nbsp;&nbsp;
              <a href="http://stackoverflow.com/users/1954/lee"><i class="fa fa-stack-exchange"></i></a>&nbsp;&nbsp;
              <a href="https://twitter.com/leedohm"><i class="fa fa-twitter"></i></a>
            </p>
            <p>
              Copyright &copy; 2010-2016 by Lee Dohm
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="//code.jquery.com/jquery.js"></script>
    <script src="/bootstrap/js/bootstrap.min.js"></script>
    <script src="/javascripts/lightbox.min.js"></script>
    <script src="/javascripts/bigfoot.min.js"></script>
    <script type="text/javascript">
      $.bigfoot();
    </script>
  </body>
</html>
